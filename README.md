# 学生学籍管理系统 v2.0
![image](https://github.com/user-attachments/assets/8019cb8f-3f71-4a04-a88e-addfdf5d47cf)

## 项目简介

这是一个基于Java和UXDB数据库的学生学籍管理系统，采用MVC架构设计，提供完整的学生信息管理功能。

## 主要功能

- **数据库管理**: 创建/删除数据库表结构
- **学生管理**: 学生信息的增删改查
- **成绩管理**: 学生成绩录入和查询
- **课程管理**: 课程信息维护
- **奖惩管理**: 学生奖惩记录管理
- **数据查询**: 多种查询方式和高级搜索

## v2.0 美化改进

### 用户界面美化
- **彩色控制台输出**: 使用ANSI颜色代码美化界面
- **智能表格显示**:
  - 自动计算列宽，适应内容长度
  - 中英文字符宽度智能识别
  - 数字右对齐，文本左对齐，表头居中
  - 长文本自动截断处理
  - 专业的表格边框和分隔线
- **美化菜单设计**: 带边框的对齐菜单布局
- **友好的提示信息**: 成功/错误/警告信息分类显示
- **欢迎横幅**: 美观的系统启动界面

### 代码质量提升
- **配置文件支持**: 数据库配置外部化
- **输入验证增强**: 完善的输入验证和错误处理
- **代码重构**: 更好的代码组织和可维护性
- **工具类封装**: ConsoleUtil和InputValidator工具类

## 项目结构

```
src/
├── com/artisan/
│   ├── dao/           # 数据访问层
│   ├── model/         # 实体类
│   ├── util/          # 工具类
│   │   ├── DbUtil.java        # 数据库工具
│   │   ├── ConsoleUtil.java   # 控制台美化工具
│   │   └── InputValidator.java # 输入验证工具
│   └── view/          # 视图层
│       ├── FirstView.java     # 主界面
│       ├── QueryView.java     # 查询界面
│       └── InsertView.java    # 插入界面
├── database.properties        # 数据库配置文件
└── test/                     # 测试类
```

## 技术栈

- **编程语言**: Java 8+
- **数据库**: UXDB (兼容PostgreSQL)
- **架构模式**: MVC (Model-View-Controller)
- **JDBC驱动**: UXDB JDBC Driver

## 快速开始

### 1. 环境准备

确保已安装Java和UXDB数据库，并将UXDB JDBC驱动添加到项目classpath中。

### 2. 配置数据库

编辑 `src/database.properties` 文件：

```properties
# 数据库连接配置
db.url=jdbc:uxdb://localhost:5432/your_database?currentSchema=university_schema
db.username=your_username
db.password=your_password
db.driver=com.uxsino.uxdb.Driver
```

### 3. 编译运行

**Windows:**
```bash
run.bat
```

**Linux/Mac:**
```bash
./run.sh
```

### 4. 初始化数据库

首次运行时，选择 "C - 创建数据库表结构" 来初始化数据库表。

## 使用指南

### 主菜单选项

- **C**: 创建数据库表结构
- **D**: 删除数据库表结构
- **i**: 插入数据
- **d**: 删除数据
- **u**: 更新数据
- **s**: 查询数据
- **0**: 退出系统

### 查询功能

1. **基本信息查询**: 查看所有学生基本信息
2. **成绩查询**: 查看学生成绩信息
3. **奖惩查询**: 查看奖惩记录
4. **成绩单查询**: 查询特定学生的成绩单
5. **高级查询**: 支持多条件组合查询

## 界面特色

### 彩色输出
- 绿色：成功信息
- 红色：错误信息
- 黄色：警告信息
- 蓝色：一般信息

### 智能表格显示（等宽字体完美对齐）
- **精确列宽计算**: 根据内容自动计算最适合的列宽
- **等宽字体专用优化**: 专门针对等宽字体环境进行精确对齐
- **等宽字体字符宽度精确处理**:
  - 使用半角边框字符（"-", "="）确保精确对齐，每个字符占1个显示位置
  - 全角字符（中文、中文标点等）占2个显示位置
  - 半角字符（英文、数字、半角符号等）占1个显示位置
  - 专用的表格格式化方法确保边框完美对齐
- **智能内容对齐**:
  - 表头居中对齐
  - 数字内容右对齐
  - 文本内容左对齐
- **长文本智能显示**:
  - 自动检测长文本内容
  - 标准表格：适中长度内容正常显示
  - 自适应表格：长文本内容完整显示，自动调整列宽
  - 紧凑模式：超长内容采用垂直列表格式显示
  - 确保所有描述信息完整可见，不截断重要内容
- **完美边框对齐系统**:
  - 使用半角字符绘制专业的表格边框
  - 所有边框字符（"-", "="）都占1个字符位置，与英文字母相同
  - 确保所有边框线（表格、菜单、横幅、标题）完全垂直对齐
  - 统一的边框字符重复次数计算：边框长度 = 显示宽度
- **完善的边界处理**: 优雅处理null值和空字符串
- **动态横幅对齐**: 欢迎横幅和标题自动居中对齐

### 菜单设计
美化的菜单界面，带边框的选项布局，支持快捷键操作。

## 故障排除

### 常见问题

1. **数据库连接失败**
   - 检查数据库服务是否启动
   - 验证配置文件中的连接信息
   - 确认JDBC驱动是否正确加载

2. **中文显示乱码**
   - 确保终端支持UTF-8编码
   - 检查数据库字符集设置

3. **颜色显示异常**
   - 使用支持ANSI颜色的终端
   - 在Windows上推荐使用Windows Terminal

## 更新日志

### v2.0 (2024-12-19)
- 全新的用户界面设计
- 配置文件支持
- 增强的输入验证
- 代码重构和优化

### v1.0
- 基础的学生管理功能
- 数据库CRUD操作
- 简单的控制台界面

---

**享受使用学生学籍管理系统 v2.0！**
